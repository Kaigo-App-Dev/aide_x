{% extends "base.html" %}
{% block content %}
<h2>ğŸ†š æ§‹æˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ¯”è¼ƒï¼ˆChatGPT vs Claudeï¼‰</h2>

<div style="display: flex; gap: 20px;">
  <div style="flex: 1;">
    <h3>ğŸ—£ ChatGPTå¿œç­”</h3>
    <pre style="background: #f5f5f5; padding: 10px;">{{ original | safe }}</pre>
  </div>

  <div style="flex: 1;">
    <h3>ğŸ¤– Claudeæ•´å½¢</h3>
    <pre style="background: #f0fff0; padding: 10px;">{{ transformed | safe }}</pre>
  </div>
</div>

<hr>
<h3>ğŸ” å·®åˆ†ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆå¤‰æ›´ç‚¹ã®ã¿ï¼‰</h3>
<pre style="background:#fff8e1; padding:10px; white-space:pre-wrap; word-break:break-all;">
{{ diff_html | safe }}
</pre>

<!-- âœ… æ¡ç”¨ -->
{% if modified_structure and original_structure %}
  <form method="post" action="{{ url_for('structure.adopt_structure', improved_id=modified_structure.id, original_id=original_structure.id) }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <button type="submit" style="margin-top: 20px; background: #4CAF50; color: white;">
      âœ… ã“ã®æ”¹å–„æ¡ˆã‚’æ­£å¼ã«æ¡ç”¨ã™ã‚‹
    </button>
  </form>
{% endif %}

<!-- âŒ ä¸æ¡ç”¨ -->
{% if modified_structure %}
  <form method="post" action="{{ url_for('structure.discard_structure', improved_id=modified_structure.id) }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <button type="submit" style="margin-top: 10px; background: #e53935; color: white;">
      âŒ ã“ã®æ”¹å–„æ¡ˆã¯ä¸æ¡ç”¨ã«ã™ã‚‹
    </button>
  </form>
{% endif %}

<!-- ğŸ“„ åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ä¿å­˜ -->
{% if modified_structure %}
  <form method="post" action="{{ url_for('structure.save_as_new_structure', improved_id=modified_structure.id) }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <button type="submit" style="margin-top: 10px; background: #1976D2; color: white;">
      ğŸ“„ æ”¹å–„æ¡ˆã‚’åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ä¿å­˜
    </button>
  </form>
{% endif %}

<div style="margin-top: 15px;">
  <a href="{{ url_for('chat.chat_prompt') }}">â† ãƒãƒ£ãƒƒãƒˆã«æˆ»ã‚‹</a>
</div>
{% endblock %}
