<!-- è£œåŠ©UIå°‚ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ -->
<div class="structure-ui" id="structureUI">
    <!-- Geminiè£œå®Œçµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
    <div class="output-pane" id="output-pane">
        <div class="output-header">
            <h3>âœ¨ Geminiè£œå®Œçµæœ</h3>
            <button class="btn btn-sm btn-outline-secondary" onclick="toggleOutputPane()">
                <span id="output-toggle-icon">â–¼</span>
            </button>
        </div>
        <div class="output-content" id="completion-content">
            {% if structure and structure.gemini_output %}
                {% if structure.gemini_output.status == "success" %}
                    <div class="completion-success">
                        <h4>âœ¨ Geminiè£œå®Œå®Œäº†</h4>
                        <div class="completion-content">
                            <pre>{{ structure.gemini_output.content }}</pre>
                        </div>
                    </div>
                {% elif structure.gemini_output.status == "failed" %}
                    <div class="completion-error">
                        <h4>âš ï¸ Geminiè£œå®Œå¤±æ•—</h4>
                        <p>{{ structure.gemini_output.reason }}</p>
                        {% if structure.gemini_output.error_details %}
                            <details>
                                <summary>ã‚¨ãƒ©ãƒ¼è©³ç´°</summary>
                                <pre>{{ structure.gemini_output.error_details }}</pre>
                            </details>
                        {% endif %}
                    </div>
                {% endif %}
            {% else %}
                <div class="empty-supplemental">
                    <div class="empty-message">
                        <h4>ğŸ¨ Geminiè£œå®Œ</h4>
                        <p>Geminiè£œå®Œã¯ã¾ã ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p>
                        <p class="text-muted">ã€ŒUIã‚’ç”Ÿæˆã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ã“ã“ã«Geminiã®è£œå®ŒçµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>

    <!-- è£œåŠ©æƒ…å ±ã‚¨ãƒªã‚¢ -->
    <div class="reference-area">
        <div class="reference-header">
            <h3>ğŸ“š å‚è€ƒæƒ…å ±</h3>
        </div>
        <div class="reference-content">
            <div class="quick-actions">
                <h4>ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h4>
                <div class="action-buttons">
                    <button class="btn btn-sm btn-outline-primary" onclick="suggestTemplate('web')">
                        ğŸŒ Webã‚¢ãƒ—ãƒª
                    </button>
                    <button class="btn btn-sm btn-outline-primary" onclick="suggestTemplate('mobile')">
                        ğŸ“± ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª
                    </button>
                    <button class="btn btn-sm btn-outline-primary" onclick="suggestTemplate('api')">
                        ğŸ”Œ APIè¨­è¨ˆ
                    </button>
                </div>
            </div>
            
            <div class="help-section">
                <h4>ğŸ’¡ ä½¿ã„æ–¹ãƒ’ãƒ³ãƒˆ</h4>
                <ul>
                    <li>å…·ä½“çš„ãªè¦ä»¶ã‚’ä¼ãˆã‚‹ã¨ã€ã‚ˆã‚Šè‰¯ã„æ§‹æˆãŒç”Ÿæˆã•ã‚Œã¾ã™</li>
                    <li>ã€ŒJSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€ã¨æ˜ç¤ºã™ã‚‹ã¨ç¢ºå®Ÿã§ã™</li>
                    <li>æ§‹æˆãŒæ°—ã«å…¥ã‚‰ãªã„å ´åˆã¯ã€Œä¿®æ­£ã—ã¦ãã ã•ã„ã€ã¨ä¼ãˆã¦ãã ã•ã„</li>
                </ul>
            </div>
            
            <div class="status-info">
                <h4>ğŸ“Š ç¾åœ¨ã®çŠ¶æ…‹</h4>
                <div class="status-item">
                    <span class="status-label">æ§‹æˆç”Ÿæˆ:</span>
                    <span class="status-value">
                        {% if structure and structure.content %}
                            âœ… å®Œäº†
                        {% else %}
                            â³ æœªç”Ÿæˆ
                        {% endif %}
                    </span>
                </div>
                <div class="status-item">
                    <span class="status-label">Claudeè©•ä¾¡:</span>
                    <span class="status-value">
                        {% if structure and structure.evaluation %}
                            âœ… å®Œäº†
                        {% else %}
                            â³ æœªå®Ÿè¡Œ
                        {% endif %}
                    </span>
                </div>
                <div class="status-item">
                    <span class="status-label">Geminiè£œå®Œ:</span>
                    <span class="status-value">
                        {% if structure and structure.gemini_output %}
                            âœ… å®Œäº†
                        {% else %}
                            â³ æœªå®Ÿè¡Œ
                        {% endif %}
                    </span>
                </div>
            </div>
        </div>
    </div>
</div> 