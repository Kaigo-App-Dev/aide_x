<!-- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å·®åˆ†è¡¨ç¤ºå°‚ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ -->
<div class="module-diff-container">
    <div class="module-diff-header">
        <h3 class="module-diff-title">
            ğŸ” ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å·®åˆ†
        </h3>
        <div class="module-diff-summary">
            <span class="diff-summary-item added">
                ğŸŸ¢ è¿½åŠ : {{ diff.added|length }}
            </span>
            <span class="diff-summary-item removed">
                ğŸ”´ å‰Šé™¤: {{ diff.removed|length }}
            </span>
            <span class="diff-summary-item changed">
                ğŸŸ¡ å¤‰æ›´: {{ diff.changed|length }}
            </span>
        </div>
    </div>

    <div class="module-diff-content">
        <!-- è¿½åŠ ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« -->
        {% if diff.added %}
        <div class="diff-section added-section">
            <h4 class="diff-section-title added">
                ğŸŸ¢ è¿½åŠ ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
            </h4>
            <ul class="diff-module-list added-list">
                {% for module in diff.added %}
                <li class="diff-module-item added">
                    <div class="module-name">
                        <span class="diff-icon">ï¼‹</span>
                        {{ module.name if module.name else module.title if module.title else "ç„¡åãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«" }}
                    </div>
                    {% if module.description %}
                    <div class="module-description">
                        {{ module.description }}
                    </div>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        <!-- å‰Šé™¤ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« -->
        {% if diff.removed %}
        <div class="diff-section removed-section">
            <h4 class="diff-section-title removed">
                ğŸ”´ å‰Šé™¤ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
            </h4>
            <ul class="diff-module-list removed-list">
                {% for module in diff.removed %}
                <li class="diff-module-item removed">
                    <div class="module-name">
                        <span class="diff-icon">âˆ’</span>
                        {{ module.name if module.name else module.title if module.title else "ç„¡åãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«" }}
                    </div>
                    {% if module.description %}
                    <div class="module-description">
                        {{ module.description }}
                    </div>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        <!-- å¤‰æ›´ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« -->
        {% if diff.changed %}
        <div class="diff-section changed-section">
            <h4 class="diff-section-title changed">
                ğŸŸ¡ å†…å®¹ãŒå¤‰æ›´ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
            </h4>
            <ul class="diff-module-list changed-list">
                {% for module in diff.changed %}
                <li class="diff-module-item changed">
                    <div class="module-name">
                        <span class="diff-icon">Â±</span>
                        {{ module.name }}
                    </div>
                    {% if module.changes %}
                    <div class="module-changes">
                        <details class="changes-details">
                            <summary class="changes-summary">
                                å¤‰æ›´å†…å®¹ã‚’è¡¨ç¤º
                            </summary>
                            <ul class="changes-list">
                                {% for change in module.changes %}
                                <li class="change-item">
                                    <span class="change-field">{{ change.field }}:</span>
                                    <div class="change-values">
                                        <div class="change-before">
                                            <span class="change-label">å¤‰æ›´å‰:</span>
                                            <span class="change-value">{{ change.before|tojson }}</span>
                                        </div>
                                        <div class="change-after">
                                            <span class="change-label">å¤‰æ›´å¾Œ:</span>
                                            <span class="change-value">{{ change.after|tojson }}</span>
                                        </div>
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </details>
                    </div>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        <!-- å¤‰æ›´ãªã—ã®å ´åˆ -->
        {% if not diff.added and not diff.removed and not diff.changed %}
        <div class="diff-section no-changes-section">
            <div class="no-changes-message">
                <span class="no-changes-icon">âœ…</span>
                <h4 class="no-changes-title">å¤‰æ›´ãªã—</h4>
                <p class="no-changes-description">
                    Claudeæ§‹æˆã¨Geminiè£œå®Œã®é–“ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å¤‰æ›´ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                </p>
            </div>
        </div>
        {% endif %}
    </div>
</div> 